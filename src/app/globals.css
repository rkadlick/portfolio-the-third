/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,300;6..12,400;6..12,500;6..12,600;6..12,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&display=swap');

@import "tailwindcss";
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Ensure the page takes up full height */
html, body {
  height: 100%;
}

/* Sticky footer styles */
.wrapper {
  min-height: 100vh; /* Fallback for browsers that do not support Custom Properties */
  min-height: calc(var(--vh, 1vh) * 100);
}

.content {
  flex: 1 0 auto;
}

:root {
  /* Font families */
  --font-primary: 'Poppins', sans-serif;
  --font-secondary: 'Nunito Sans', sans-serif;
  --font-tertiary: 'Fira Mono', monospace;
  --font-logo: 'Josefin Sans', sans-serif;

  /* Light theme */
  --background: #ffffff;
  --foreground: #1a1a1a;
  --card-bg: #eef0f3;
  --muted: #4B5563;
  --muted-hover: #374151;
  --border: #e2e4e8;
  --primary: #24507A;
  --primary-hover: #245e7a;
  --primary-foreground: #1a1a1a;
  --secondary: #9A94BC;
  --accent: #CDF7F6;
  --input-bg: #ffffff;
  --input-border: #e2e4e8;
  --input-focus: #8FB8DE;
  --input-placeholder: #a3aac2;
  --button-bg: #8FB8DE;
  --button-text: #1a1a1a;
  --button-hover: #7ba6cc;
  --card-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --card-shadow-hover: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --secondary-hover: #8885a8;
  --logo-text: #000000;
  --nav-link: #4B5563;
  --nav-link-hover: #1a1a1a;
  --nav-link-active: #000000;
  --nav-link-active-bg: #ffffff;
  --tag-bg: rgba(36, 80, 122, 0.12);
  --link: #00B4D8;
}

[data-theme="dark"] {
  --background: #1a1a1a;
  --foreground: #ffffff;
  --card-bg: #32323e;
  --muted: #CDD1D9;
  --muted-hover: #E5E7EB;
  --border: #374151;
  --primary: #A5D4FF;
  --primary-hover: #93C5FD;
  --primary-foreground: #ffffff;
  --secondary: #6D28D9;
  --accent: #3B82F6;
  --input-bg: #374151;
  --input-border: #4B5563;
  --input-focus: #6B7280;
  --input-placeholder: #9CA3AF;
  --button-bg: #6B7280;
  --button-text: #ffffff;
  --button-hover: #4B5563;
  --card-shadow: 0 1px 2px 0 rgb(255 255 255 / 0.05);
  --card-shadow-hover: 0 4px 6px -1px rgb(255 255 255 / 0.1);
  --secondary-hover: #8885a8;
  --logo-text: #ffffff;
  --nav-link: #CDD1D9;
  --nav-link-hover: #1a1a1a;
  --nav-link-active: #1a1a1a;
  --nav-link-active-bg: #ffffff;
  --tag-bg: rgba(165, 212, 255, 0.15);
  --link: #90E0EF;
}

@layer base {
  body {
    @apply bg-[var(--background)] text-[var(--foreground)] antialiased transition-colors duration-100;
    font-family: var(--font-secondary);
  }

  /* Modern focus styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-[var(--primary)] ring-offset-2 ring-offset-[var(--background)];
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-primary);
  }

  h1 {
    @apply text-3xl font-bold tracking-tight mb-4;
  }

  h2 {
    @apply text-2xl font-semibold tracking-tight mb-3;
  }

  h3 {
    @apply text-xl font-semibold mb-2;
  }

  p {
    @apply leading-relaxed mb-4 text-[var(--foreground)]/90;
    font-family: var(--font-secondary);
  }

  a {
    @apply text-[var(--primary)] hover:text-[var(--primary-hover)] transition-colors duration-200;
  }

  /* Form elements */
  input, select, textarea {
    @apply bg-[var(--input-bg)] text-[var(--foreground)] rounded-xl px-4 py-2.5
           border border-[var(--input-border)] shadow-sm
           focus:border-[var(--input-focus)] focus:ring-1 focus:ring-[var(--input-focus)]
           transition-all duration-200;
  }

  input::placeholder, textarea::placeholder {
    @apply text-[var(--input-placeholder)];
  }

  /* Buttons */
  .button {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg
           relative overflow-hidden
           font-medium text-sm;
  }

  .button .button-text {
    @apply flex items-center gap-1.5 w-full relative z-10;
    position: relative;
  }

  .button .icon-spin {
    @apply transition-all duration-500;
    position: absolute;
    left: 0;
  }

  .button .button-text span {
    @apply transition-opacity duration-300 ease-in-out;
    margin-left: 24px;
  }

  .button:hover .button-text span {
    @apply opacity-0;
  }

  .button:hover .icon-spin {
    left: 50%;
    transform: translateX(-50%);
  }

  /* Primary Button */
  .button-primary {
    @apply bg-[var(--primary)] text-[var(--card-bg)]
           hover:shadow-lg hover:shadow-[var(--primary)]/20
           active:scale-[0.98] transition-shadow duration-200;
  }

  .button-primary::after {
    @apply content-[''] absolute inset-0 rounded-lg
           bg-white/20 opacity-0 transition-opacity duration-200;
  }

  .button-primary:hover::after {
    @apply opacity-100;
  }

  .button-primary:hover {
    @apply text-[var(--card-bg)];
  }

  /* Secondary Button */
  .button-secondary {
    @apply bg-transparent text-[var(--primary)]
           shadow-[inset_0_0_0_1.5px_var(--primary)]
           hover:shadow-lg hover:shadow-[var(--primary)]/20
           active:scale-[0.98] transition-shadow duration-200;
  }

  .button-secondary::after {
    @apply content-[''] absolute inset-0 rounded-lg transition-opacity duration-200 opacity-0;
    background-color: var(--primary);
  }

  [data-theme="light"] .button-secondary::after {
    background-color: var(--primary);
  }

  [data-theme="dark"] .button-secondary::after {
    background-color: var(--primary);
  }

  .button-secondary:hover::after {
    opacity: 0.15;
  }

  [data-theme="light"] .button-secondary:hover::after {
    opacity: 0.15;
  }

  [data-theme="dark"] .button-secondary:hover::after {
    opacity: 0.25;
  }

  /* Navbar Links */
  .nav-link {
    @apply relative flex items-center justify-center h-[3.25rem] px-4 text-sm font-medium 
           transition-all duration-300 cursor-pointer overflow-hidden;
  }

  /* Light mode */
  [data-theme="light"] .nav-link {
    color: var(--muted);
  }

  [data-theme="light"] .nav-link::before {
    @apply content-[''] absolute inset-0 rounded-full opacity-0 transition-all duration-300 -z-10;
    background: rgba(0, 0, 0, 0.05);
  }

  [data-theme="light"] .nav-link:hover::before {
    @apply opacity-100;
    background: rgba(0, 0, 0, 0.075);
  }

  [data-theme="light"] .nav-link.active {
    color: var(--foreground);
  }

  [data-theme="light"] .nav-link.active::before {
    @apply opacity-100;
    background: rgba(0, 0, 0, 0.1);
  }

  /* Dark mode */
  [data-theme="dark"] .nav-link {
    color: var(--muted);
  }

  [data-theme="dark"] .nav-link::before {
    @apply content-[''] absolute inset-0 rounded-full opacity-0 transition-all duration-300 -z-10;
    background: rgba(255, 255, 255, 0.03);
  }

  [data-theme="dark"] .nav-link:hover::before {
    @apply opacity-100;
    background: rgba(255, 255, 255, 0.05);
  }

  [data-theme="dark"] .nav-link.active {
    color: var(--foreground);
  }

  [data-theme="dark"] .nav-link.active::before {
    @apply opacity-100;
    background: rgba(255, 255, 255, 0.08);
  }

  /* Theme Toggle Button */
  .theme-toggle-button {
    @apply fixed bottom-6 right-6 p-3 rounded-full
           bg-[var(--background)] text-[var(--foreground)]
           shadow-lg hover:shadow-xl cursor-pointer
           transition-all duration-300 z-50
           sm:p-4;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 0 0 2px var(--border);
  }

  .theme-toggle-button:hover {
    transform: translateY(-2px);
  }

  .theme-toggle-button svg {
    @apply w-5 h-5 sm:w-6 sm:h-6;
  }

  [data-theme="dark"] .theme-toggle-button {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 0 0 2px var(--border);
  }

  /* Cards */
  .card {
    @apply bg-[var(--card-bg)] rounded-xl shadow-sm hover:shadow
           transition-all duration-200;
  }

  .featured-project-card {
    @apply grid grid-cols-1 md:grid-cols-2 gap-8 p-0 overflow-hidden
           max-w-[56rem] mx-auto relative;
  }

  .featured-project-content {
    @apply p-8 flex flex-col h-full space-y-6;
  }

  .featured-project-image-container {
    @apply relative md:absolute md:bottom-0 md:left-[50%] md:right-0
           md:h-[85%] transform-gpu;
    top: 15%;
  }

  .featured-project-image {
    @apply relative h-[250px] md:h-full w-full
           overflow-hidden rounded-tl-xl;
    position: relative;
    box-shadow: 
      -12px -12px 24px -6px rgba(0,0,0,0.2),
      -16px -16px 40px -10px rgba(0,0,0,0.15),
      0 0 0 1px rgba(0,0,0,0.15);
  }

  .featured-project-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255,255,255,0.2) 0%,
      rgba(255,255,255,0) 60%
    );
    pointer-events: none;
  }

  .featured-project-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-top-left-radius: 0.75rem;
    pointer-events: none;
  }

  .featured-project-image img {
    @apply transition-opacity duration-200 object-cover;
    object-position: left top;
  }

  /* Project Card Styles */
  .non-featured-project-card {
    @apply flex items-start justify-between py-5 px-6 cursor-pointer hover:shadow-md text-[#1a1a1a];
  }

  .project-details-dropdown {
    @apply overflow-hidden transition-all duration-300 ease-in-out;
  }

  .project-arrow-icon {
    @apply transition-transform duration-300 ease-in-out;
  }

  .project-tag {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium 
           bg-[var(--tag-bg)] text-[var(--primary)] mr-2 mb-2 cursor-default
           ring-1 ring-[var(--primary)]/20;
  }

  .non-featured-project-card .project-tag {
    @apply cursor-pointer;
  }

  /* Lists */
  ul, ol {
    @apply pl-6 mb-4;
  }

  ul {
    @apply list-disc;
  }

  ol {
    @apply list-decimal;
  }

  li {
    @apply mb-1;
  }

  /* Code blocks */
  pre {
    @apply bg-[var(--card-bg)] p-4 rounded-xl overflow-x-auto mb-4;
  }

  code {
    @apply bg-[var(--card-bg)] px-1.5 py-0.5 rounded-md text-sm;
  }

  /* Tables */
  table {
    @apply w-full border-collapse mb-4;
  }

  th, td {
    @apply px-4 py-2 border-b border-[var(--border)] text-left;
  }

  th {
    @apply font-semibold bg-[var(--card-bg)];
  }

  /* Blockquotes */
  blockquote {
    @apply border-l-4 border-[var(--primary)] pl-4 italic my-4;
  }

  /* Holographic Profile Picture */
  .holo-container {
    @apply relative rounded-2xl overflow-hidden;
    perspective: 1000px;
    transform-style: preserve-3d;
  }

  .holo-card {
    @apply relative rounded-2xl overflow-hidden;
    height: 100%;
    transform-style: preserve-3d;
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .holo-border {
    @apply absolute inset-0 z-30 rounded-2xl pointer-events-none opacity-0;
    border: 2px solid transparent;
    background: linear-gradient(to right, var(--primary), var(--accent)) border-box;
    mask: 
      linear-gradient(#fff 0 0) padding-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask: 
      linear-gradient(#fff 0 0) padding-box, 
      linear-gradient(#fff 0 0);
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    transition: opacity 0.3s ease;
  }

  .holo-container:hover .holo-border {
    opacity: 1;
  }

  .holo-cursor-light {
    @apply absolute inset-0 z-20 rounded-2xl opacity-0 pointer-events-none;
    background: radial-gradient(
      circle 15rem at var(--cursor-x, 50%) var(--cursor-y, 50%),
      rgba(255, 255, 255, 0.4) 0%,
      rgba(163, 201, 236, 0.2) 35%,
      transparent 70%
    );
    transition: opacity 0.5s;
  }

  .holo-container:hover .holo-cursor-light {
    opacity: 1;
  }

  .holo-shine {
    @apply absolute inset-0 z-20 pointer-events-none;
    background: linear-gradient(
      125deg,
      transparent 0%,
      rgba(163, 201, 236, 0.1) 25%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(163, 201, 236, 0.1) 75%,
      transparent 100%
    );
    transform: translateX(-100%);
    animation: shine 5s infinite;
  }

  .holo-container:hover .holo-card {
    transform: rotateX(var(--rotateX)) rotateY(var(--rotateY)) scale(1.02);
  }

  @keyframes shine {
    0% {
      transform: translateX(-100%) rotate(0deg);
    }
    20%, 100% {
      transform: translateX(100%) rotate(0deg);
    }
  }

  /* Code blocks and monospace text */
  pre, code, .monospace {
    font-family: var(--font-tertiary);
  }

  /* Meta text, small text, and technical details */
  .meta-text, small, .technical-details, .project-tag {
    @apply text-sm;
    font-family: var(--font-tertiary);
  }

  /* Logo specific font */
  .logo-text {
    font-family: var(--font-logo) !important;
  }

  [data-theme="dark"] .nav-link:hover .logo-text,
  [data-theme="dark"] .nav-link.active .logo-text {
    color: white;
  }

  .special-link {
    @apply text-[var(--link)] hover:text-[var(--link)]/90 transition-colors duration-200;
  }
}